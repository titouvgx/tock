
<!doctype html>
<html lang="fr" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../cloud/">
      
      
        <link rel="next" href="../security/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>Installation - Tock Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="/assets/css/overrides.scss">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#installation-tock" class="md-skip">
          Aller au contenu
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="En-tête">
    <a href="../../" title="Tock Documentation" class="md-header__button md-logo" aria-label="Tock Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Tock Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Installation
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Sélectionner la langue">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="../../../admin/installation/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="./" hreflang="fr" class="md-select__link">
              Français
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Rechercher" placeholder="Rechercher" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Recherche">
        
        <button type="reset" class="md-search__icon md-icon" title="Effacer" aria-label="Effacer" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initialisation de la recherche
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/CreditMutuelArkea/tock/tree/1811_mkdocs_documentation_website" title="Aller au dépôt" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../" title="Tock Documentation" class="md-nav__button md-logo" aria-label="Tock Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Tock Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/CreditMutuelArkea/tock/tree/1811_mkdocs_documentation_website" title="Aller au dépôt" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bienvenue !
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    About
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            About
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/awards/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Récompenses
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/community/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Communauté
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/contact/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contact
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/contribute/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contribuer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/jobs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Emploi
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/ressources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ressources
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/showcase/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Vitrine
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/why/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pourquoi Tock
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Admin
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Admin
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Architecture
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../availability/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Haute disponibilité
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cloud/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cloud
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Installation
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation-avec-docker" class="md-nav__link">
    <span class="md-ellipsis">
      Installation avec Docker
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation-sans-docker" class="md-nav__link">
    <span class="md-ellipsis">
      Installation sans Docker
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Installation sans Docker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ligne-de-commande" class="md-nav__link">
    <span class="md-ellipsis">
      Ligne de commande
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jar-executable" class="md-nav__link">
    <span class="md-ellipsis">
      JAR exécutable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dans-un-ide" class="md-nav__link">
    <span class="md-ellipsis">
      Dans un IDE
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#base-de-donnees-mongodb" class="md-nav__link">
    <span class="md-ellipsis">
      Base de données MongoDB
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Base de données MongoDB">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#architecture-replica-set" class="md-nav__link">
    <span class="md-ellipsis">
      Architecture replica set
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conservation-des-donnees" class="md-nav__link">
    <span class="md-ellipsis">
      Conservation des données
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#composants-applicatifs" class="md-nav__link">
    <span class="md-ellipsis">
      Composants applicatifs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Composants applicatifs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#exposition-reseau" class="md-nav__link">
    <span class="md-ellipsis">
      Exposition réseau
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proxies-http" class="md-nav__link">
    <span class="md-ellipsis">
      Proxies HTTP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#packaging-du-bot" class="md-nav__link">
    <span class="md-ellipsis">
      Packaging du bot
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configurations-minimales" class="md-nav__link">
    <span class="md-ellipsis">
      Configurations minimales
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configurations minimales">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#construction-des-modeles" class="md-nav__link">
    <span class="md-ellipsis">
      Construction des modèles
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memoire-jvm-docker" class="md-nav__link">
    <span class="md-ellipsis">
      Mémoire JVM &amp; Docker
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optimisation-machines" class="md-nav__link">
    <span class="md-ellipsis">
      Optimisation machines
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Optimisation machines">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#exemples" class="md-nav__link">
    <span class="md-ellipsis">
      Exemples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Exemples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#modeles-de-taille-limitee" class="md-nav__link">
    <span class="md-ellipsis">
      Modèles de taille limitée
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modeles-de-taille-importante" class="md-nav__link">
    <span class="md-ellipsis">
      Modèles de taille importante
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#questions-frequentes" class="md-nav__link">
    <span class="md-ellipsis">
      Questions fréquentes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Questions fréquentes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mettre-a-disposition-linterface-dadministration-dans-un-sous-repertoire" class="md-nav__link">
    <span class="md-ellipsis">
      Mettre à disposition l'interface d'administration dans un sous-repertoire
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#voir-aussi" class="md-nav__link">
    <span class="md-ellipsis">
      Voir aussi...
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../security/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sécurité
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../supervision/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Supervision
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../synchronization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Documentation de la Fonctionnalité de Synchronisation Multilingue
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Dev
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Dev
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/bot-api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bot API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/bot-integre/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bot intégré
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/connectors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Connecteurs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/examples-code/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exemples
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/i18n/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    i18n - développement
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/modes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/test/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tester
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_9" >
        
          
          <label class="md-nav__link" for="__nav_4_9" id="__nav_4_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Advanced
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_9">
            <span class="md-nav__icon md-icon"></span>
            Advanced
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/advanced/bot-api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BotApi
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/advanced/collections/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Les collections Tock
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/advanced/main-classes-explanation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Main classes explanation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/advanced/packages/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Explication des packages Tock
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_9_5" >
        
          
          <label class="md-nav__link" for="__nav_4_9_5" id="__nav_4_9_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Nlp
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_9_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_9_5">
            <span class="md-nav__icon md-icon"></span>
            Nlp
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/advanced/nlp/nlp-evaluation-with-duckling-and-dictionary%20%28%20end%20of%20file%29/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Nlp evaluation with duckling and dictionary ( end of file)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/advanced/nlp/nlp-intents-and-entities-evaluation-simplifed-diagram/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Nlp intents and entities evaluation simplifed diagram
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/advanced/nlp/nlp-models-and-entity-models/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Les modèles NLP
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Guides
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/messenger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Messenger
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/platform/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plateforme
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/slack/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Slack
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/studio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Studio
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    User
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            User
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/concepts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Concepts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/guides/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Guides
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tock Studio
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_4" >
        
          
          <label class="md-nav__link" for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Guides
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4">
            <span class="md-nav__icon md-icon"></span>
            Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/guides/build-model/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modèles conversationnels
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/guides/canaux/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Canaux
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/guides/i18n/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    i18n - guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/guides/intents-restrictions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Intents restrictions
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_5" >
        
          
          <label class="md-nav__link" for="__nav_6_5" id="__nav_6_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Studio
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_5">
            <span class="md-nav__icon md-icon"></span>
            Studio
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/analytics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Analytics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/custom-metrics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Custom Metrics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/faq-management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ Management
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/faq-training/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ Training
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/general/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    L'interface Tock Studio
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/nlu-qa/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Model Quality
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/nlu/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NLU
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/stories-and-answers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Stories and Answers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/test/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_5_11" >
        
          
          <label class="md-nav__link" for="__nav_6_5_11" id="__nav_6_5_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Gen ai
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_5_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_5_11">
            <span class="md-nav__icon md-icon"></span>
            Gen ai
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/gen-ai/gen-ai/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gen AI
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_5_11_2" >
        
          
          <label class="md-nav__link" for="__nav_6_5_11_2" id="__nav_6_5_11_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Features
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_6_5_11_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_5_11_2">
            <span class="md-nav__icon md-icon"></span>
            Features
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/gen-ai/features/gen-ai-feature-observability/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gen AI - Observability Settings
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/gen-ai/features/gen-ai-feature-rag-exclusion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gen AI / RAG Exclusions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/gen-ai/features/gen-ai-feature-rag/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gen AI / RAG Settings
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/gen-ai/features/gen-ai-feature-sentence-generation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gen AI - Sentence generation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/gen-ai/features/gen-ai-feature-vector-store/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Le menu Gen AI - Vector Store Settings
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_5_11_3" >
        
          
          <label class="md-nav__link" for="__nav_6_5_11_3" id="__nav_6_5_11_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Providers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_6_5_11_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_5_11_3">
            <span class="md-nav__icon md-icon"></span>
            Providers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/gen-ai/providers/gen-ai-provider-llm-and-embedding/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fournisseurs des modèles LLM et d'Embedding
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/gen-ai/providers/gen-ai-provider-observability/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fournisseurs d'observabilité des LLMs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/gen-ai/providers/gen-ai-provider-vector-store/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fournisseurs de base vectorielle
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation-avec-docker" class="md-nav__link">
    <span class="md-ellipsis">
      Installation avec Docker
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation-sans-docker" class="md-nav__link">
    <span class="md-ellipsis">
      Installation sans Docker
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Installation sans Docker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ligne-de-commande" class="md-nav__link">
    <span class="md-ellipsis">
      Ligne de commande
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jar-executable" class="md-nav__link">
    <span class="md-ellipsis">
      JAR exécutable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dans-un-ide" class="md-nav__link">
    <span class="md-ellipsis">
      Dans un IDE
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#base-de-donnees-mongodb" class="md-nav__link">
    <span class="md-ellipsis">
      Base de données MongoDB
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Base de données MongoDB">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#architecture-replica-set" class="md-nav__link">
    <span class="md-ellipsis">
      Architecture replica set
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conservation-des-donnees" class="md-nav__link">
    <span class="md-ellipsis">
      Conservation des données
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#composants-applicatifs" class="md-nav__link">
    <span class="md-ellipsis">
      Composants applicatifs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Composants applicatifs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#exposition-reseau" class="md-nav__link">
    <span class="md-ellipsis">
      Exposition réseau
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proxies-http" class="md-nav__link">
    <span class="md-ellipsis">
      Proxies HTTP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#packaging-du-bot" class="md-nav__link">
    <span class="md-ellipsis">
      Packaging du bot
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configurations-minimales" class="md-nav__link">
    <span class="md-ellipsis">
      Configurations minimales
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configurations minimales">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#construction-des-modeles" class="md-nav__link">
    <span class="md-ellipsis">
      Construction des modèles
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memoire-jvm-docker" class="md-nav__link">
    <span class="md-ellipsis">
      Mémoire JVM &amp; Docker
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optimisation-machines" class="md-nav__link">
    <span class="md-ellipsis">
      Optimisation machines
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Optimisation machines">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#exemples" class="md-nav__link">
    <span class="md-ellipsis">
      Exemples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Exemples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#modeles-de-taille-limitee" class="md-nav__link">
    <span class="md-ellipsis">
      Modèles de taille limitée
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modeles-de-taille-importante" class="md-nav__link">
    <span class="md-ellipsis">
      Modèles de taille importante
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#questions-frequentes" class="md-nav__link">
    <span class="md-ellipsis">
      Questions fréquentes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Questions fréquentes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mettre-a-disposition-linterface-dadministration-dans-un-sous-repertoire" class="md-nav__link">
    <span class="md-ellipsis">
      Mettre à disposition l'interface d'administration dans un sous-repertoire
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#voir-aussi" class="md-nav__link">
    <span class="md-ellipsis">
      Voir aussi...
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/CreditMutuelArkea/tock/tree/1811_mkdocs_documentation_website/docs/docs/fr/admin/installation.md" title="Editer cette page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75z"/></svg>
    </a>
  
  


<h1 id="installation-tock">Installation Tock</h1>
<p>La page <a href="../architecture/">architecture</a> présente l'architecture fonctionnelle et technique Tock, le rôle des différents
composants ainsi que les différents modes de déploiement.</p>
<p>Ce chapitre présente les différentes options d'installation de Tock. En particulier, il s'agit d'évoquer le cas d'une
installation en production ainsi que partager quelques retours d'expérience sur les performances, la résilience,
la capacité de Tock à monter en charge, les déploiementsde type <em>Cloud</em>, la supervision, etc.</p>
<blockquote>
<p>Si vous cherchez seulement à tester Tock avec des données non sensibles, vous pouvez préférer utiliser la
<a href="https://demo.tock.ai">plateforme de démonstration Tock</a>.</p>
</blockquote>
<h2 id="installation-avec-docker">Installation avec Docker</h2>
<p>Le dépôt <a href="https://github.com/theopenconversationkit/tock-docker"><code>tock-docker</code></a> fournit une implémentation complète de
Tock pour les technologies <a href="https://www.docker.com/">Docker</a> et <a href="https://docs.docker.com/compose/">Docker Compose</a>.
Tock est composé par défaut de plusieurs conteneurs/images Docker et d'une base de donnée <a href="https://www.mongodb.com">MongoDB</a>.</p>
<p>Pour en savoir plus sur l'installation de Tock avec Docker, voir les instructions du dépôt <a href="https://github.com/theopenconversationkit/tock-docker"><code>tock-docker</code></a>.</p>
<blockquote>
<p>Le guide <a href="../../guides/platform/">déployer Tock avec Docker</a> dans la section <em>Découvrir Tock</em> donne un exemple de déploiement
d'une plateforme complète en quelques minutes avec une empreinte minimale en utilisant Docker et Docker Compose.
Cependant, cette méthode n'est pas envisageable pour un déploiement pérenne comme une plateforme de production.</p>
</blockquote>
<p>Si vous souhaitez utiliser Docker Compose en production, merci de lire cet <a href="https://docs.docker.com/compose/production/">article</a>
et de revoir la configuration, qui est uniquement donnée dans le projet <code>tock-docker</code> à titre d'exemple.
En particulier, la configuration des instances MongoDB doit être revue attentivement.</p>
<h2 id="installation-sans-docker">Installation sans Docker</h2>
<p>Il est tout à fait possible d'installer Tock sans utiliser Docker. En analysant les descripteurs fournis dans
<a href="https://github.com/theopenconversationkit/tock-docker"><code>tock-docker</code></a> (ie. les fichiers <code>pom.xml</code>, les <code>Dockerfile</code>
et <code>docker-compose.yml</code>) on peut facilement concevoir une installation sans Docker.</p>
<p>Hormis la base de données MongoDB, tous les autres composants peuvent démarrer comme des applications Java/JVM classiques, par exemple :</p>
<ul>
<li>directement en ligne de commande</li>
<li>au sein d'un serveur d'applications Java</li>
<li>depuis un outil de développement intégré (IDE)</li>
<li>etc.</li>
</ul>
<p>Pour en savoir plus sur les paramètres de lancement des différents composants Tock, vous pouvez vous inspirer
des commandes présentes dans les descripteurs de <code>tock-docker</code> ou encore des configurations fournies pour IntelliJ<br />
(voir ci-dessous).</p>
<h3 id="ligne-de-commande">Ligne de commande</h3>
<p>Une technique consiste à rassembler les différentes dépendances et archives JAR dans un dossier puis démarrer le
composant ou l'application avec une commande Java classique.</p>
<p>Pour exemple, le descripteur du composant <code>tock-docker-nlp-api</code>
(voir <a href="https://github.com/theopenconversationkit/tock-docker/blob/master/nlp-api/pom.xml"><code>pom.xml</code></a>)
avec la commande suivante :</p>
<div class="highlight"><pre><span></span><code>java<span class="w"> </span><span class="nv">$JAVA_ARGS</span><span class="w"> </span>-Dfile.encoding<span class="o">=</span>UTF-8<span class="w"> </span>-cp<span class="w"> </span><span class="s1">&#39;/maven/*&#39;</span><span class="w"> </span>ai.tock.nlp.api.StartNlpServiceKt
</code></pre></div>
<h3 id="jar-executable">JAR exécutable</h3>
<p>Ce n'est pas la technique que nous recommandons, mais il est possible d'exécuter un JAR unique contenant toutes les
dépendances (parfois appelé <em>"fat JAR"</em>). Voici comment procéder pour créer un tel JAR, en reprenant l'exemple du
composant Tock NLP-API.</p>
<p>Dans le POM du composant (<code>nlp/api/service/pom.xml</code>), ajoutez la déclaration suivante :</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="nt">&lt;build&gt;</span>
<span class="w">        </span><span class="nt">&lt;plugins&gt;</span>
<span class="w">            </span><span class="nt">&lt;plugin&gt;</span>
<span class="w">                </span><span class="nt">&lt;artifactId&gt;</span>maven-assembly-plugin<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">                </span><span class="nt">&lt;executions&gt;</span>
<span class="w">                    </span><span class="nt">&lt;execution&gt;</span>
<span class="w">                        </span><span class="nt">&lt;phase&gt;</span>package<span class="nt">&lt;/phase&gt;</span>
<span class="w">                        </span><span class="nt">&lt;goals&gt;</span>
<span class="w">                            </span><span class="nt">&lt;goal&gt;</span>single<span class="nt">&lt;/goal&gt;</span>
<span class="w">                        </span><span class="nt">&lt;/goals&gt;</span>
<span class="w">                        </span><span class="nt">&lt;configuration&gt;</span>
<span class="w">                            </span><span class="nt">&lt;archive&gt;</span>
<span class="w">                                </span><span class="nt">&lt;manifest&gt;</span>
<span class="w">                                    </span><span class="nt">&lt;mainClass&gt;</span>ai.tock.nlp.api.StartNlpServiceKt<span class="nt">&lt;/mainClass&gt;</span>
<span class="w">                                </span><span class="nt">&lt;/manifest&gt;</span>
<span class="w">                            </span><span class="nt">&lt;/archive&gt;</span>
<span class="w">                            </span><span class="nt">&lt;descriptors&gt;</span>
<span class="w">                                </span><span class="nt">&lt;descriptor&gt;</span>src/main/assembly/jar-with-dependencies.xml<span class="nt">&lt;/descriptor&gt;</span>
<span class="w">                            </span><span class="nt">&lt;/descriptors&gt;</span>
<span class="w">                        </span><span class="nt">&lt;/configuration&gt;</span>
<span class="w">                    </span><span class="nt">&lt;/execution&gt;</span>
<span class="w">                </span><span class="nt">&lt;/executions&gt;</span>
<span class="w">            </span><span class="nt">&lt;/plugin&gt;</span>
<span class="w">        </span><span class="nt">&lt;/plugins&gt;</span>
<span class="w">    </span><span class="nt">&lt;/build&gt;</span>
</code></pre></div>
<p>Créez également un descripteur d'archive <code>nlp/api/service/src/main/assembly/jar-with-dependencies.xml</code> avec le contenu suivant :</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;assembly</span><span class="w"> </span><span class="na">xmlns=</span><span class="s">&quot;http://maven.apache.org/ASSEMBLY/2.0.0&quot;</span>
<span class="w">          </span><span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
<span class="w">          </span><span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://maven.apache.org/ASSEMBLY/2.0.0 http://maven.apache.org/xsd/assembly-2.0.0.xsd&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;id&gt;</span>jar-with-dependencies<span class="nt">&lt;/id&gt;</span>
<span class="w">    </span><span class="nt">&lt;formats&gt;</span>
<span class="w">        </span><span class="nt">&lt;format&gt;</span>jar<span class="nt">&lt;/format&gt;</span>
<span class="w">    </span><span class="nt">&lt;/formats&gt;</span>
<span class="w">    </span><span class="nt">&lt;includeBaseDirectory&gt;</span>false<span class="nt">&lt;/includeBaseDirectory&gt;</span>
<span class="w">    </span><span class="nt">&lt;dependencySets&gt;</span>
<span class="w">        </span><span class="nt">&lt;dependencySet&gt;</span>
<span class="w">            </span><span class="nt">&lt;outputDirectory&gt;</span>/<span class="nt">&lt;/outputDirectory&gt;</span>
<span class="w">            </span><span class="nt">&lt;useProjectArtifact&gt;</span>true<span class="nt">&lt;/useProjectArtifact&gt;</span>
<span class="w">            </span><span class="nt">&lt;unpack&gt;</span>true<span class="nt">&lt;/unpack&gt;</span>
<span class="w">            </span><span class="nt">&lt;scope&gt;</span>runtime<span class="nt">&lt;/scope&gt;</span>
<span class="w">        </span><span class="nt">&lt;/dependencySet&gt;</span>
<span class="w">    </span><span class="nt">&lt;/dependencySets&gt;</span>
<span class="w">    </span><span class="nt">&lt;containerDescriptorHandlers&gt;</span>
<span class="w">        </span><span class="nt">&lt;containerDescriptorHandler&gt;</span>
<span class="w">            </span><span class="cm">&lt;!-- Merge service implementations from dependencies --&gt;</span>
<span class="w">            </span><span class="nt">&lt;handlerName&gt;</span>metaInf-services<span class="nt">&lt;/handlerName&gt;</span>
<span class="w">        </span><span class="nt">&lt;/containerDescriptorHandler&gt;</span>
<span class="w">    </span><span class="nt">&lt;/containerDescriptorHandlers&gt;</span>
<span class="nt">&lt;/assembly&gt;</span>
</code></pre></div>
<p>Pour finir, construisez l'archive <em>"jar-with-dependencies"</em> avec <code>mvn package</code>.</p>
<h3 id="dans-un-ide">Dans un IDE</h3>
<p>Pour le développement, il est possible d'exécuter les différents composants Tock (NLU, Studio, bot...)
depuis un IDE comme <a href="https://www.jetbrains.com/idea/">IntelliJ</a>, <a href="https://www.eclipse.org/">Eclipse</a> ou
<a href="https://code.visualstudio.com/">Visual Studio Code</a> par exemple.</p>
<p>Outre les <a href="https://github.com/theopenconversationkit/tock-docker/blob/master/docker-compose.yml">images Docker</a>,
des configurations pour IntelliJ sont fournies avec les sources de Tock :</p>
<ul>
<li>Configuration <a href="https://github.com/theopenconversationkit/tock/blob/master/.idea/runConfigurations/BotAdmin.xml">Services <em>Tock Studio</em> complets (Bot + NLP) / <code>BotAdmin</code></a></li>
<li>Configuration <a href="https://github.com/theopenconversationkit/tock/blob/master/.idea/runConfigurations/Admin.xml">Services <em>Tock Studio</em> (NLP uniquement) / <code>Admin</code></a></li>
<li>Configuration <a href="https://github.com/theopenconversationkit/tock/blob/master/.idea/runConfigurations/NlpService.xml">Service NLP / <code>NlpService</code></a></li>
<li>Configuration <a href="https://github.com/theopenconversationkit/tock/blob/master/.idea/runConfigurations/Duckling.xml">Service d'entités / <code>Duckling</code></a></li>
<li>Configuration <a href="https://github.com/theopenconversationkit/tock/blob/master/.idea/runConfigurations/BuildWorker.xml">Service construction des modèles NLP / <code>BuildWorker</code></a></li>
<li>Configuration <a href="https://github.com/theopenconversationkit/tock/blob/master/.idea/runConfigurations/KotlinCompilerServer.xml">Service de compilation des scripts / <code>KotlinCompilerServer</code></a></li>
</ul>
<p>Enfin pour lancer les interfaces utilisateur (<em>Tock Studio</em>), les commandes sont décrites dans le lien suivant :</p>
<ul>
<li>Instructions <a href="https://github.com/theopenconversationkit/tock/blob/master/bot/admin/web/README">Interface <em>Tock Studio</em> complète (Bot + NLP)</a></li>
</ul>
<h2 id="base-de-donnees-mongodb">Base de données MongoDB</h2>
<h3 id="architecture-replica-set">Architecture <em>replica set</em></h3>
<p>La base MongoDB doit être configurée en <em>replica set</em>, car Tock tire parti des <a href="https://docs.mongodb.com/manual/changeStreams/"><em>change streams</em></a>.</p>
<blockquote>
<p>Cela implique qu'au minimum 3 <em>noeuds</em> doivent être déployés, ce qui améliore la résilience.</p>
</blockquote>
<p>Différents scénarios sont possibles pour la base de données :</p>
<ul>
<li>Installer les noeuds MongoDB sur un ou plusieurs serveurs (méthode classique)</li>
<li>Instancier les noeuds MongoDB avec Docker (pour des tests ou le développement en local)</li>
<li>Utiliser un service <em>cloud</em> MongoDB en <em>SaaS (Software-as-a-Service)</em>, par exemple
  <a href="https://www.mongodb.com/cloud/atlas">MongoDB Atlas</a> disponible sur AWS, Azure et GCP</li>
</ul>
<blockquote>
<p>Un <a href="https://docs.mongodb.com/manual/tutorial/deploy-replica-set/">tutoriel d'installation en <em>replica set</em></a>
est disponible sur le site de MongoDB.</p>
</blockquote>
<h3 id="conservation-des-donnees">Conservation des données</h3>
<p>Tock conserve en base différents types de données et applique des <a href="https://en.wikipedia.org/wiki/Time_to_live"><em>TTL (Time To Live)</em></a>,
afin que certaines expirent et soient purgées automatiquement après un certain temps.</p>
<blockquote>
<p>En pratique, les variables d'environnement et l'application des <em>TTL</em> ont lieu à l'initialisation des composant <em>DAO
(Data Access Object)</em>, au démarrage de Tock.</p>
</blockquote>
<p>Les <em>TTL</em> de Tock possèdent une valeur par défaut et sont configurables au moyen de variables
d'environnement. Certaines concernent un composant Tock en particulier, d'autres doivent être définies sur
plusieurs composants.</p>
<blockquote>
<p>Tock pouvant être utilisé comme plateforme conversationnelle complète ou
uniquement la partie NLU/NLP, on indique les variables spécifiques au conversationnel (notées <em>Bot</em>)
ou utilisables sur tous les types de plateformes (notées <em>*</em>).</p>
</blockquote>
<table>
<thead>
<tr>
<th>Plateforme(s)</th>
<th>Variable d'environnement</th>
<th>Valeur par défaut</th>
<th>Description</th>
<th>Composant(s) concerné(s)</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>*</em></td>
<td><code>tock_nlp_classified_sentences_index_ttl_days</code></td>
<td><code>-1</code> (pas d'expiration)</td>
<td>Phrases non validées (<em>Inbox</em>).</td>
<td><code>nlp_api</code>, <code>nlp_admin</code>/<code>bot_admin</code>, <code>worker</code></td>
</tr>
<tr>
<td><em>*</em></td>
<td><code>tock_nlp_classified_sentences_index_ttl_intent_names</code></td>
<td>Vide (toutes intentions)</td>
<td>Phrases non validées (<em>Inbox</em>) &gt;&gt; restriction à certaines intentions, séparées par des virgules.<br><em>(Exemple ci-dessous).</em></td>
<td><code>nlp_api</code></td>
</tr>
<tr>
<td><em>*</em></td>
<td><code>tock_nlp_log_index_ttl_days</code></td>
<td><code>7</code></td>
<td>Logs NLP : phrase, intentions, scores, détail des entités, etc.</td>
<td><code>nlp_api</code></td>
</tr>
<tr>
<td><em>*</em></td>
<td><code>tock_nlp_log_stats_index_ttl_days</code></td>
<td><code>365</code></td>
<td>Statistiques NLP : nombre d'occurrences d'une phrase, scores, etc.</td>
<td><code>nlp_api</code></td>
</tr>
<tr>
<td><em>*</em></td>
<td><code>tock_user_log_index_ttl_days</code></td>
<td><code>365</code></td>
<td>Log des actions dans <em>Tock Studio</em> : modifications de <em>Stories</em>, etc.</td>
<td><code>nlp_admin</code>/<code>bot_admin</code></td>
</tr>
<tr>
<td><em>Bot</em></td>
<td><code>tock_bot_alternative_index_ttl_hours</code></td>
<td><code>1</code></td>
<td>Index sur les alternatives d'un label (<em>Answers</em>).</td>
<td><code>bot</code>/<code>bot_api</code></td>
</tr>
<tr>
<td><em>Bot</em></td>
<td><code>tock_bot_dialog_index_ttl_days</code></td>
<td><code>7</code></td>
<td>Conversations (<em>Analytics &gt; Users/Search</em>).</td>
<td><code>bot</code>/<code>bot_api</code>, <code>nlp_admin</code>/<code>bot_admin</code></td>
</tr>
<tr>
<td><em>Bot</em></td>
<td><code>tock_bot_dialog_max_validity_in_seconds</code></td>
<td><code>60 * 60 * 24</code> (24h)</td>
<td>Contextes des conversations (intention courante, entités dans le <em>bus</em>, etc.).</td>
<td><code>bot</code>/<code>bot_api</code>, <code>nlp_admin</code>/<code>bot_admin</code></td>
</tr>
<tr>
<td><em>Bot</em></td>
<td><code>tock_bot_flow_stats_index_ttl_days</code></td>
<td><code>365</code></td>
<td>Statistiques de navigation (<em>Analytics &gt; Activity/Behavior</em>).</td>
<td><code>bot</code>/<code>bot_api</code>, <code>nlp_admin</code>/<code>bot_admin</code></td>
</tr>
<tr>
<td><em>Bot</em></td>
<td><code>tock_bot_timeline_index_ttl_days</code></td>
<td><code>365</code></td>
<td>Profils/historique utilisateurs : préférences, locale, dernière connexion, etc. <em>(hors détail des conversations)</em></td>
<td><code>bot</code>/<code>bot_api</code>, <code>nlp_admin</code>/<code>bot_admin</code></td>
</tr>
</tbody>
</table>
<p>Selon le mode de déploiement utilisé, ces variables d'environnement peuvent être ajoutées soit
directement en ligne de commande, soit dans un descripteur type <code>docker-compose.yml</code>, <code>dockerrun.aws.json</code> ou autre
(exemple ci-dessous).</p>
<p>Il est possible de supprimer automatiquement les phrases non validées (<em>Inbox</em>) pour certaines intentions uniquement,
grâce à <code>tock_nlp_classified_sentences_index_ttl_intent_names</code> :</p>
<ul>
<li>{: data-hl-lines="6 7"} docker-compose.yml</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;3&quot;</span>
<span class="nt">services</span><span class="p">:</span>
<span class="w">  </span><span class="nt">admin_web</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tock/bot_admin:$TAG</span>
<span class="w">    </span><span class="nt">environment</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tock_nlp_classified_sentences_index_ttl_days=10</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tock_nlp_classified_sentences_index_ttl_intent_names=greetings,unknown</span>
</code></pre></div>
<ul>
<li>{: data-hl-lines="8 9"} dockerrun.aws.json</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;AWSEBDockerrunVersion&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;containerDefinitions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;admin_web&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;image&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;tock/bot_admin:${TAG}&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;environment&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;tock_nlp_classified_sentences_index_ttl_days&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;10&quot;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;tock_nlp_classified_sentences_index_ttl_intent_names&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;greetings,unknown&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>{: .tabbed-code}</p>
<p>Dans cet exemple, seules les phrases détectées comme intentions <code>greetings</code> ou <code>unknown</code> (mais non validées) seront
supprimées au bout de <code>10</code> jours ; les autres phrases ne seront pas supprimées.</p>
<p>Seules les phrases validées par un utilisateur dans <em>Tock Studio</em>, intégrant le modèle NLP du bot, n'expirent jamais
par défaut (même s'il reste possible de les supprimer du modèle via la vue <em>Search &gt; Status: Included in model</em>) :
il est donc important de ne pas valider des phrases comportant des données personnelles par exemple.</p>
<blockquote>
<p>La conservation des données, le chiffrement et l'anonymisation sont essentiels à la protection
des données, en particulier si elles sont personnelles.
Pour en savoir plus, voir la section <a href="../security/#données"><em>Sécurité &gt; Données</em></a>.</p>
</blockquote>
<h2 id="composants-applicatifs">Composants applicatifs</h2>
<p>Selon les composants applicatifs de Tock, obligatoires ou facultatifs, certains doivent être <em>mono-instance</em> et d'autres
peuvent être déployés en <em>plusieurs instances</em> (voir la section <a href="../availability/">haute disponibilité</a> pour en savoir plus).</p>
<p>Pour plus de commodité, les composants ci-dessous sont nommé comme les images <a href="https://www.docker.com/">Docker</a> fournies
avec Tock, bien que l'utilisation de Docker ne soit pas obligatoire pour installer Tock.</p>
<h3 id="exposition-reseau">Exposition réseau</h3>
<p>Par défaut, les composants ou <em>conteneurs</em> de la plateforme Tock ne doivent pas être exposés à l'extérieur du
<a href="https://fr.wikipedia.org/wiki/R%C3%A9seau_priv%C3%A9_virtuel"><em>VPN</em></a> ou <a href="https://fr.wikipedia.org/wiki/Nuage_Priv%C3%A9_Virtuel"><em>VPC</em></a>.
Seul le bot lui-même doit être accessible des partenaires et canaux externes auxquels on veut
s'intégrer, pour le fonctionnement des <em>WebHooks</em>.</p>
<table>
<thead>
<tr>
<th>Composant / Image</th>
<th>Exposition réseau</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://hub.docker.com/r/tock/bot_admin"><code>tock/bot_admin</code></a></td>
<td>VPN / VPC uniquement</td>
<td>Interfaces et outils <em>Tock Studio</em></td>
</tr>
<tr>
<td><a href="https://hub.docker.com/r/tock/build_worker"><code>tock/build_worker</code></a></td>
<td>VPN / VPC uniquement</td>
<td>Reconstruit les modèles automatiquement dès que nécessaire</td>
</tr>
<tr>
<td><a href="https://hub.docker.com/r/tock/duckling"><code>tock/duckling</code></a></td>
<td>VPN / VPC uniquement</td>
<td>Analyse les dates et types primitifs en utilisant <a href="https://duckling.wit.ai">Duckling</a></td>
</tr>
<tr>
<td><a href="https://hub.docker.com/r/tock/nlp_api"><code>tock/nlp_api</code></a></td>
<td>VPN / VPC uniquement</td>
<td>Analyse les phrases à partir des modèles construits dans <em>Tock Studio</em></td>
</tr>
<tr>
<td><a href="https://hub.docker.com/r/tock/bot_api"><code>tock/bot_api</code></a></td>
<td>VPN / VPC uniquement</td>
<td>API pour développer des bots (mode <a href="../../dev/bot-api/"><em>Tock Bot API</em></a>)</td>
</tr>
<tr>
<td><a href="https://hub.docker.com/r/tock/kotlin_compiler"><code>tock/kotlin_compiler</code></a></td>
<td>VPN / VPC uniquement</td>
<td>(Facultatif) Compilateur de scripts pour les saisir directement dans l'interface <a href="../../user/studio/stories-and-answers/"><em>Build</em></a> de <em>Tock Studio</em></td>
</tr>
<tr>
<td>bot (non fourni)</td>
<td>Internet / partenaires</td>
<td>Le bot lui-même, implémentant les parcours programmatiques, accessible des partenaires/canaux externes via des <em>WebHooks</em></td>
</tr>
</tbody>
</table>
<p>Bien sûr, l'implémentation du bot lui-même n'est pas fournie avec Tock (chacun implémente ses fonctionnalités propres pour son besoin).</p>
<h3 id="proxies-http">Proxies HTTP</h3>
<p>Les <a href="https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html">propriétés système Java</a>
<code>https.proxyHost</code>, <code>http.proxyHost</code> et <code>http.nonProxyHosts</code> sont la méthode recommandée pour configurer un proxy.</p>
<h3 id="packaging-du-bot">Packaging du bot</h3>
<p>Un exemple de bot en mode <a href="../../dev/bot-integre/"><em>Tock Bot intégré</em></a> est disponible dans
<a href="https://github.com/theopenconversationkit/tock-docker/blob/master/docker-compose-bot-open-data.yml"><code>docker-compose-bot-open-data.yml</code></a>.</p>
<p>Des exemples et indications pour packager des bots en mode <a href="../../dev/bot-api/"><em>Tock Bot API</em></a> (<em>WebHooks</em>, <em>WebSockets</em>) seront bientôt disponibles.</p>
<h2 id="configurations-minimales">Configurations minimales</h2>
<p>L'architecture Tock est composée de plusieurs composants qui peuvent être déployés ensemble sur un même serveur,
ou répartis sur plusieurs machines/instances.</p>
<p>Le paramètre principal à surveiller est la mémoire vive disponible.</p>
<h3 id="construction-des-modeles">Construction des modèles</h3>
<p>Plus vos modèles sont importants, plus il est nécessaire d'augmenter la mémoire pour reconstruire les modèles
(composant <code>tock/build_worker</code>).</p>
<p>Pour donner un ordre de grandeur, un modèle de 50000 phrases avec plusieurs intentions, comportant une vingtaine d'entités,
nécessitera de provisionner environ 8 Go de RAM pour le composant <code>tock/build_worker</code>.</p>
<p>Cependant, des modèles importants mais contenant peu d'entités fonctionnent facilement avec seulement 1 Go de RAM.</p>
<h3 id="memoire-jvm-docker">Mémoire JVM &amp; Docker</h3>
<p>Pour garantir que les conteneurs/instances Docker ne dépassent pas la mémoire disponible, il est recommandé
de limiter la mémoire des JVMs en suivant l'exemple suivant :</p>
<div class="highlight"><pre><span></span><code><span class="nv">JAVA_ARGS</span><span class="o">=</span>-Xmx1g<span class="w"> </span>-XX:MaxMetaspaceSize<span class="o">=</span>256m
</code></pre></div>
<h2 id="optimisation-machines">Optimisation machines</h2>
<p>Il est possible d'optimiser déploiements et infrastructures en prenant en compte différents éléments
comme :</p>
<ul>
<li>les besoins des composants respectifs en ressources machines : CPU, mémoire, disque</li>
<li>l'intérêt d'avoir une ou plusieurs instances de chaque composant suivant son rôle</li>
<li>les contraintes/objectifs de résilience et haute disponibilité</li>
<li>les modèles de coûts, notamment chez les fournisseurs de clouds publics</li>
</ul>
<h3 id="exemples">Exemples</h3>
<p>A titre indicatif, voici quelques exemples de configurations actuellement en production.
Il s'agit des composants "applicatifs" de l'architecture Tock sans la base de donnée MongoDB.</p>
<blockquote>
<p>Les types d'instances EC2 sont donnés à titre indicatif. Tock n'a pas de dépendance à AWS.<br />
Pour en savoir plus voir la <a href="https://aws.amazon.com/fr/ec2/pricing/on-demand/">documentation AWS</a>.</p>
</blockquote>
<h4 id="modeles-de-taille-limitee">Modèles de taille limitée</h4>
<table>
<thead>
<tr>
<th>Composants Tock</th>
<th>Nombre d'instances</th>
<th>Nombre de CPU ou vCPU</th>
<th>Mémoire RAM</th>
<th>Exemple type d'instance EC2</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>admin-web</code> + <code>build-worker</code> + <code>kotlin-compiler</code> + <code>duckling</code></td>
<td>1</td>
<td>2</td>
<td>4 Go</td>
<td><code>t3a.medium</code> (usage général)</td>
</tr>
<tr>
<td><code>bot</code> + <code>nlp-api</code> + <code>duckling</code></td>
<td>3</td>
<td>2</td>
<td>4 Go</td>
<td><code>t3a.medium</code> (usage général)</td>
</tr>
</tbody>
</table>
<h4 id="modeles-de-taille-importante">Modèles de taille importante</h4>
<table>
<thead>
<tr>
<th>Composants Tock</th>
<th>Nombre d'instances</th>
<th>Nombre de CPU ou vCPU</th>
<th>Mémoire RAM</th>
<th>Exemple type d'instance EC2</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>admin-web</code> + <code>build-worker</code> + <code>kotlin-compiler</code> + <code>duckling</code></td>
<td>1</td>
<td>2</td>
<td>16 Go</td>
<td><code>r5a.large</code> (mémoire optimisée)</td>
</tr>
<tr>
<td><code>bot</code> + <code>nlp-api</code> + <code>duckling</code></td>
<td>3</td>
<td>2</td>
<td>4 Go</td>
<td><code>t3a.medium</code> (usage général)</td>
</tr>
</tbody>
</table>
<h2 id="questions-frequentes">Questions fréquentes</h2>
<h3 id="mettre-a-disposition-linterface-dadministration-dans-un-sous-repertoire">Mettre à disposition l'interface d'administration dans un sous-repertoire</h3>
<p>Par défaut l'interface d'administration est servie à la racine (Exemple : <code>https://[domain host]</code>)
Si vous souhaitez la rendre disponible sur un chemin relatif (<code>https://[domain host]/tock</code>),
utilisez dans la configuration de l'image docker <code>tock/bot_admin</code> la variable d'environnement <code>botadminverticle_base_href</code>.</p>
<p>Par exemple : <code>botadminverticle_base_href=tock</code></p>
<p>Pour <code>tock/nlp_admin</code>, il faut utiliser la propriété <code>adminverticle_base_href</code>.</p>
<h2 id="voir-aussi">Voir aussi...</h2>
<p>Pour une utilisation de Tock en production, nous vous recommandons de parcourir également les pages suivantes :</p>
<ul>
<li><a href="../security/">Sécurité</a></li>
<li><a href="../supervision/">Supervision</a></li>
<li><a href="../cloud/">Cloud</a></li>
<li><a href="../availability/">Haute disponibilité</a></li>
</ul>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Dernière mise à jour">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">13 janvier 2025</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Créé">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2 août 2019</span>
  </span>

    
    
      
  
  <span class="md-source-file__fact">
    <span class="md-icon" title="Contributeurs">
      
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 5.5A3.5 3.5 0 0 1 15.5 9a3.5 3.5 0 0 1-3.5 3.5A3.5 3.5 0 0 1 8.5 9 3.5 3.5 0 0 1 12 5.5M5 8c.56 0 1.08.15 1.53.42-.15 1.43.27 2.85 1.13 3.96C7.16 13.34 6.16 14 5 14a3 3 0 0 1-3-3 3 3 0 0 1 3-3m14 0a3 3 0 0 1 3 3 3 3 0 0 1-3 3c-1.16 0-2.16-.66-2.66-1.62a5.54 5.54 0 0 0 1.13-3.96c.45-.27.97-.42 1.53-.42M5.5 18.25c0-2.07 2.91-3.75 6.5-3.75s6.5 1.68 6.5 3.75V20h-13zM0 20v-1.5c0-1.39 1.89-2.56 4.45-2.9-.59.68-.95 1.62-.95 2.65V20zm24 0h-3.5v-1.75c0-1.03-.36-1.97-.95-2.65 2.56.34 4.45 1.51 4.45 2.9z"/></svg>
      
    </span>
    <nav>
      
        <a href="mailto:fabien.lin@protonmail.com">Fabien Hervé</a>, 
        <a href="mailto:francois.nollen@gmail.com">Francois Nollen</a>, 
        <a href="mailto:101799433+rkuffer@users.noreply.github.com">Rodolphe Küffer</a>, 
        <a href="mailto:titouan.perivier-vigouroux@arkea.com">Titouan Perivier--Vigouroux</a>
    </nav>
  </span>

    
    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.action.edit", "content.code.copy", "navigation.expand", "navigation.path"], "search": "../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copi\u00e9 dans le presse-papier", "clipboard.copy": "Copier dans le presse-papier", "search.result.more.one": "1 de plus sur cette page", "search.result.more.other": "# de plus sur cette page", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.term.missing": "Non trouv\u00e9", "select.version": "S\u00e9lectionner la version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
    
  </body>
</html>