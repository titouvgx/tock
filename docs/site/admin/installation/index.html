
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../cloud/">
      
      
        <link rel="next" href="../security/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>Installation - Tock Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/css/style.css">
    
      <link rel="stylesheet" href="../../assets/css/badge.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#tock-installation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Tock Documentation" class="md-header__button md-logo" aria-label="Tock Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Tock Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Installation
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Select language">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="./" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../fr/admin/installation/" hreflang="fr" class="md-select__link">
              Fran√ßais
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/CreditMutuelArkea/tock/tree/1811_mkdocs_documentation_website" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Tock Documentation" class="md-nav__button md-logo" aria-label="Tock Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Tock Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/CreditMutuelArkea/tock/tree/1811_mkdocs_documentation_website" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tock
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../conventions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Conventions
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    About
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            About
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/awards/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Awards
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/community/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Community
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/contact/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contact us
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/contribute/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/jobs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Jobs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/ressources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resources
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/showcase/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    User Showcase
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/why/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Why Tock
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Admin
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Admin
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Architecture
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../availability/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    High Availability
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cloud/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cloud
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Installation
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation-with-docker" class="md-nav__link">
    <span class="md-ellipsis">
      Installation with Docker
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation-without-docker" class="md-nav__link">
    <span class="md-ellipsis">
      Installation without Docker
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Installation without Docker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#command-line" class="md-nav__link">
    <span class="md-ellipsis">
      Command line
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executable-jar" class="md-nav__link">
    <span class="md-ellipsis">
      Executable JAR
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#in-an-ide" class="md-nav__link">
    <span class="md-ellipsis">
      In an IDE
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mongodb-database" class="md-nav__link">
    <span class="md-ellipsis">
      MongoDB database
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MongoDB database">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#replica-set-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      replica set architecture
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-retention" class="md-nav__link">
    <span class="md-ellipsis">
      Data retention
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#application-components" class="md-nav__link">
    <span class="md-ellipsis">
      Application Components
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Application Components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#network-exposure" class="md-nav__link">
    <span class="md-ellipsis">
      Network Exposure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http-proxies" class="md-nav__link">
    <span class="md-ellipsis">
      HTTP Proxies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bot-packaging" class="md-nav__link">
    <span class="md-ellipsis">
      Bot Packaging
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#minimum-configurations" class="md-nav__link">
    <span class="md-ellipsis">
      Minimum configurations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Minimum configurations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#model-building" class="md-nav__link">
    <span class="md-ellipsis">
      Model building
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jvm-docker-memory" class="md-nav__link">
    <span class="md-ellipsis">
      JVM &amp; Docker Memory
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#machine-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      Machine optimization
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Machine optimization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    <span class="md-ellipsis">
      Examples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#limited-size-models" class="md-nav__link">
    <span class="md-ellipsis">
      Limited Size Models
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#large-models" class="md-nav__link">
    <span class="md-ellipsis">
      Large Models
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#frequently-asked-questions" class="md-nav__link">
    <span class="md-ellipsis">
      Frequently Asked Questions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Frequently Asked Questions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#making-the-administration-interface-available-in-a-subdirectory" class="md-nav__link">
    <span class="md-ellipsis">
      Making the administration interface available in a subdirectory
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-also" class="md-nav__link">
    <span class="md-ellipsis">
      See also...
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../security/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Security
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../supervision/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Supervision
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../synchronization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Documentation of the Multilingual Synchronization Feature
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Dev
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Dev
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/bot-api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bot API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/bot-integre/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bot int√©gr√©
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/connectors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Connectors
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/examples-code/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Examples
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/i18n/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    i18n - development
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/modes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/test/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tester
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_9" >
        
          
          <label class="md-nav__link" for="__nav_5_9" id="__nav_5_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Advanced
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_9">
            <span class="md-nav__icon md-icon"></span>
            Advanced
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/advanced/bot-api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BotApi
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/advanced/collections/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The Tock collections
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/advanced/main-classes-explanation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Main classes explanation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/advanced/packages/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Explication des packages Tock
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_9_5" >
        
          
          <label class="md-nav__link" for="__nav_5_9_5" id="__nav_5_9_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Nlp
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_9_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_9_5">
            <span class="md-nav__icon md-icon"></span>
            Nlp
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/advanced/nlp/nlp-evaluation-with-duckling-and-dictionary%20%28%20end%20of%20file%29/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Nlp evaluation with duckling and dictionary ( end of file)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/advanced/nlp/nlp-intents-and-entities-evaluation-simplifed-diagram/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Nlp intents and entities evaluation simplifed diagram
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/advanced/nlp/nlp-models-and-entity-models/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Les mod√®les NLP
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Guides
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/messenger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Messenger
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/platform/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plateforme
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/slack/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Slack
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/studio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Studio
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    User
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            User
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/concepts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Concepts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/guides/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Guides
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tock Studio
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_4" >
        
          
          <label class="md-nav__link" for="__nav_7_4" id="__nav_7_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Guides
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_4">
            <span class="md-nav__icon md-icon"></span>
            Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/guides/build-model/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Conversational models
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/guides/canaux/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Channels
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/guides/i18n/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    i18n - guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/guides/intents-restrictions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Intent Restriction
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_5" >
        
          
          <label class="md-nav__link" for="__nav_7_5" id="__nav_7_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Studio
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_5">
            <span class="md-nav__icon md-icon"></span>
            Studio
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/analytics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Analytics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/custom-metrics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Custom Metrics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/faq-management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ Management
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/faq-training/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ Training
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/general/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The Tock Studio interface
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/nlu-qa/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Model Quality
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/nlu/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NLU
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/stories-and-answers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Stories and Answers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/test/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_5_11" >
        
          
          <label class="md-nav__link" for="__nav_7_5_11" id="__nav_7_5_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Gen ai
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_5_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_5_11">
            <span class="md-nav__icon md-icon"></span>
            Gen ai
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/gen-ai/gen-ai/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gen AI
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_5_11_2" >
        
          
          <label class="md-nav__link" for="__nav_7_5_11_2" id="__nav_7_5_11_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Features
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_5_11_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_5_11_2">
            <span class="md-nav__icon md-icon"></span>
            Features
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/gen-ai/features/gen-ai-feature-observability/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gen AI - Observability Settings
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/gen-ai/features/gen-ai-feature-rag-exclusion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gen AI / RAG Exclusions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/gen-ai/features/gen-ai-feature-rag/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gen AI / RAG Settings
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/gen-ai/features/gen-ai-feature-sentence-generation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gen AI - Sentence generation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/gen-ai/features/gen-ai-feature-vector-store/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Le menu Gen AI - Vector Store Settings
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7_5_11_3" >
        
          
          <label class="md-nav__link" for="__nav_7_5_11_3" id="__nav_7_5_11_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Providers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_7_5_11_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_5_11_3">
            <span class="md-nav__icon md-icon"></span>
            Providers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/gen-ai/providers/gen-ai-provider-llm-and-embedding/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fournisseurs des mod√®les LLM et d'Embedding
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/gen-ai/providers/gen-ai-provider-observability/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fournisseurs d'observabilit√© des LLMs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user/studio/gen-ai/providers/gen-ai-provider-vector-store/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fournisseurs de base vectorielle
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation-with-docker" class="md-nav__link">
    <span class="md-ellipsis">
      Installation with Docker
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation-without-docker" class="md-nav__link">
    <span class="md-ellipsis">
      Installation without Docker
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Installation without Docker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#command-line" class="md-nav__link">
    <span class="md-ellipsis">
      Command line
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executable-jar" class="md-nav__link">
    <span class="md-ellipsis">
      Executable JAR
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#in-an-ide" class="md-nav__link">
    <span class="md-ellipsis">
      In an IDE
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mongodb-database" class="md-nav__link">
    <span class="md-ellipsis">
      MongoDB database
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MongoDB database">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#replica-set-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      replica set architecture
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-retention" class="md-nav__link">
    <span class="md-ellipsis">
      Data retention
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#application-components" class="md-nav__link">
    <span class="md-ellipsis">
      Application Components
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Application Components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#network-exposure" class="md-nav__link">
    <span class="md-ellipsis">
      Network Exposure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http-proxies" class="md-nav__link">
    <span class="md-ellipsis">
      HTTP Proxies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bot-packaging" class="md-nav__link">
    <span class="md-ellipsis">
      Bot Packaging
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#minimum-configurations" class="md-nav__link">
    <span class="md-ellipsis">
      Minimum configurations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Minimum configurations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#model-building" class="md-nav__link">
    <span class="md-ellipsis">
      Model building
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jvm-docker-memory" class="md-nav__link">
    <span class="md-ellipsis">
      JVM &amp; Docker Memory
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#machine-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      Machine optimization
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Machine optimization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    <span class="md-ellipsis">
      Examples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#limited-size-models" class="md-nav__link">
    <span class="md-ellipsis">
      Limited Size Models
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#large-models" class="md-nav__link">
    <span class="md-ellipsis">
      Large Models
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#frequently-asked-questions" class="md-nav__link">
    <span class="md-ellipsis">
      Frequently Asked Questions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Frequently Asked Questions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#making-the-administration-interface-available-in-a-subdirectory" class="md-nav__link">
    <span class="md-ellipsis">
      Making the administration interface available in a subdirectory
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-also" class="md-nav__link">
    <span class="md-ellipsis">
      See also...
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/CreditMutuelArkea/tock/tree/1811_mkdocs_documentation_website/docs/docs/en/admin/installation.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75z"/></svg>
    </a>
  
  


<h1 id="tock-installation">Tock Installation</h1>
<p>The <a href="../architecture/">architecture</a> page presents the Tock functional and technical architecture, the role of the
different components as well as the different deployment modes.</p>
<p>This chapter presents the different Tock installation options. In particular, it is about discussing the case of a
production installation as well as sharing some feedback on performance, resilience,
Tock's ability to scale, <em>Cloud</em> type deployments, monitoring, etc.</p>
<blockquote>
<p>If you are only looking to test Tock with non-sensitive data, you may prefer to use the
<a href="https://demo.tock.ai">Tock demo platform</a>.</p>
</blockquote>
<h2 id="installation-with-docker">Installation with Docker</h2>
<p>The <a href="https://github.com/theopenconversationkit/tock-docker"><code>tock-docker</code></a> repository provides a complete implementation of
Tock for the <a href="https://www.docker.com/">Docker</a> and <a href="https://docs.docker.com/compose/">Docker Compose</a> technologies.</p>
<p>Tock is composed by default of several Docker containers/images and a <a href="https://www.mongodb.com">MongoDB</a> database.</p>
<p>For more information on installing Tock with Docker, see the instructions in the <a href="https://github.com/theopenconversationkit/tock-docker"><code>tock-docker</code></a> repository.</p>
<blockquote>
<p>The <a href="../../guides/platform/">deploy Tock with Docker</a> guide in the <em>Discover Tock</em> section gives an example of deploying
a complete platform in a few minutes with a minimal footprint using Docker and Docker Compose.
However, this method is not feasible for a long-term deployment such as a production platform.</p>
</blockquote>
<p>If you want to use Docker Compose in production, please read this <a href="https://docs.docker.com/compose/production/">article</a>
and review the configuration, which is only given in the <code>tock-docker</code> project as an example.
In particular, the configuration of MongoDB instances should be reviewed carefully.</p>
<h2 id="installation-without-docker">Installation without Docker</h2>
<p>It is entirely possible to install Tock without using Docker. By analyzing the descriptors provided in
<a href="https://github.com/theopenconversationkit/tock-docker"><code>tock-docker</code></a> (ie. the <code>pom.xml</code> files, the <code>Dockerfile</code>
and <code>docker-compose.yml</code>) one can easily design an installation without Docker.</p>
<p>Except for the MongoDB database, all other components can be started like classic Java/JVM applications, for example:</p>
<ul>
<li>directly from the command line</li>
<li>within a Java application server</li>
<li>from an integrated development tool (IDE)</li>
<li>etc.</li>
</ul>
<p>To learn more about the launch parameters of the different Tock components, you can take inspiration
from the commands present in the <code>tock-docker</code> descriptors or from the configurations provided for IntelliJ
(see below).</p>
<h3 id="command-line">Command line</h3>
<p>One technique is to gather the different dependencies and JAR archives in a folder and then start the
component or application with a classic Java command.</p>
<p>For example, the component descriptor <code>tock-docker-nlp-api</code>
(see <a href="https://github.com/theopenconversationkit/tock-docker/blob/master/nlp-api/pom.xml"><code>pom.xml</code></a>)
with the following command:</p>
<div class="highlight"><pre><span></span><code>java<span class="w"> </span><span class="nv">$JAVA_ARGS</span><span class="w"> </span>-Dfile.encoding<span class="o">=</span>UTF-8<span class="w"> </span>-cp<span class="w"> </span><span class="s1">&#39;/maven/*&#39;</span><span class="w"> </span>ai.tock.nlp.api.StartNlpServiceKt
</code></pre></div>
<h3 id="executable-jar">Executable JAR</h3>
<p>This is not the technique we recommend, but it is possible to run a single JAR containing all
dependencies (sometimes called <em>"fat JAR"</em>). Here is how to create such a JAR, using the example of the
Tock NLP-API component.</p>
<p>In the component POM (<code>nlp/api/service/pom.xml</code>), add the following declaration:</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="nt">&lt;build&gt;</span>
<span class="w">        </span><span class="nt">&lt;plugins&gt;</span>
<span class="w">            </span><span class="nt">&lt;plugin&gt;</span>
<span class="w">                </span><span class="nt">&lt;artifactId&gt;</span>maven-assembly-plugin<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">                </span><span class="nt">&lt;executions&gt;</span>
<span class="w">                    </span><span class="nt">&lt;execution&gt;</span>
<span class="w">                        </span><span class="nt">&lt;phase&gt;</span>package<span class="nt">&lt;/phase&gt;</span>
<span class="w">                        </span><span class="nt">&lt;goals&gt;</span>
<span class="w">                            </span><span class="nt">&lt;goal&gt;</span>single<span class="nt">&lt;/goal&gt;</span>
<span class="w">                        </span><span class="nt">&lt;/goals&gt;</span>
<span class="w">                        </span><span class="nt">&lt;configuration&gt;</span>
<span class="w">                            </span><span class="nt">&lt;archive&gt;</span>
<span class="w">                                </span><span class="nt">&lt;manifest&gt;</span>
<span class="w">                                    </span><span class="nt">&lt;mainClass&gt;</span>ai.tock.nlp.api.StartNlpServiceKt<span class="nt">&lt;/mainClass&gt;</span>
<span class="w">                                </span><span class="nt">&lt;/manifest&gt;</span>
<span class="w">                            </span><span class="nt">&lt;/archive&gt;</span>
<span class="w">                            </span><span class="nt">&lt;descriptors&gt;</span>
<span class="w">                                </span><span class="nt">&lt;descriptor&gt;</span>src/main/assembly/jar-with-dependencies.xml<span class="nt">&lt;/descriptor&gt;</span>
<span class="w">                            </span><span class="nt">&lt;/descriptors&gt;</span>
<span class="w">                        </span><span class="nt">&lt;/configuration&gt;</span>
<span class="w">                    </span><span class="nt">&lt;/execution&gt;</span>
<span class="w">                </span><span class="nt">&lt;/executions&gt;</span>
<span class="w">            </span><span class="nt">&lt;/plugin&gt;</span>
<span class="w">        </span><span class="nt">&lt;/plugins&gt;</span>
<span class="w">    </span><span class="nt">&lt;/build&gt;</span>
</code></pre></div>
<p>Also create an archive descriptor <code>nlp/api/service/src/main/assembly/jar-with-dependencies.xml</code> with the following content:</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;assembly</span><span class="w"> </span><span class="na">xmlns=</span><span class="s">&quot;http://maven.apache.org/ASSEMBLY/2.0.0&quot;</span>
<span class="w">          </span><span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
<span class="w">          </span><span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://maven.apache.org/ASSEMBLY/2.0.0 http://maven.apache.org/xsd/assembly-2.0.0.xsd&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;id&gt;</span>jar-with-dependencies<span class="nt">&lt;/id&gt;</span>
<span class="w">    </span><span class="nt">&lt;formats&gt;</span>
<span class="w">        </span><span class="nt">&lt;format&gt;</span>jar<span class="nt">&lt;/format&gt;</span>
<span class="w">    </span><span class="nt">&lt;/formats&gt;</span>
<span class="w">    </span><span class="nt">&lt;includeBaseDirectory&gt;</span>false<span class="nt">&lt;/includeBaseDirectory&gt;</span>
<span class="w">    </span><span class="nt">&lt;dependencySets&gt;</span>
<span class="w">        </span><span class="nt">&lt;dependencySet&gt;</span>
<span class="w">            </span><span class="nt">&lt;outputDirectory&gt;</span>/<span class="nt">&lt;/outputDirectory&gt;</span>
<span class="w">            </span><span class="nt">&lt;useProjectArtifact&gt;</span>true<span class="nt">&lt;/useProjectArtifact&gt;</span>
<span class="w">            </span><span class="nt">&lt;unpack&gt;</span>true<span class="nt">&lt;/unpack&gt;</span>
<span class="w">            </span><span class="nt">&lt;scope&gt;</span>runtime<span class="nt">&lt;/scope&gt;</span>
<span class="w">        </span><span class="nt">&lt;/dependencySet&gt;</span>
<span class="w">    </span><span class="nt">&lt;/dependencySets&gt;</span>
<span class="w">    </span><span class="nt">&lt;containerDescriptorHandlers&gt;</span>
<span class="w">        </span><span class="nt">&lt;containerDescriptorHandler&gt;</span>
<span class="w">            </span><span class="cm">&lt;!-- Merge service implementations from dependencies --&gt;</span>
<span class="w">            </span><span class="nt">&lt;handlerName&gt;</span>metaInf-services<span class="nt">&lt;/handlerName&gt;</span>
<span class="w">        </span><span class="nt">&lt;/containerDescriptorHandler&gt;</span>
<span class="w">    </span><span class="nt">&lt;/containerDescriptorHandlers&gt;</span>
<span class="nt">&lt;/assembly&gt;</span>
</code></pre></div>
<p>Finally, build the <em>"jar-with-dependencies"</em> archive with <code>mvn package</code>.</p>
<h3 id="in-an-ide">In an IDE</h3>
<p>For development, it is possible to run the different Tock components (NLU, Studio, bot...)
from an IDE like <a href="https://www.jetbrains.com/idea/">IntelliJ</a>, <a href="https://www.eclipse.org/">Eclipse</a> or
<a href="https://code.visualstudio.com/">Visual Studio Code</a> for example.</p>
<p>In addition to the <a href="https://github.com/theopenconversationkit/tock-docker/blob/master/docker-compose.yml">Docker images</a>,
configurations for IntelliJ are provided with the Tock sources:</p>
<ul>
<li>Configuration <a href="https://github.com/theopenconversationkit/tock/blob/master/.idea/runConfigurations/BotAdmin.xml">Full <em>Tock Studio</em> services (Bot + NLP) / <code>BotAdmin</code></a></li>
<li>Configuration <a href="https://github.com/theopenconversationkit/tock/blob/master/.idea/runConfigurations/Admin.xml"><em>Tock Studio</em> services (NLP only) / <code>Admin</code></a></li>
<li>Configuration <a href="https://github.com/theopenconversationkit/tock/blob/master/.idea/runConfigurations/NlpService.xml">NLP service / <code>NlpService</code></a></li>
<li>Configuration <a href="https://github.com/theopenconversationkit/tock/blob/master/.idea/runConfigurations/Duckling.xml">Entity Service / <code>Duckling</code></a></li>
<li>Configuration <a href="https://github.com/theopenconversationkit/tock/blob/master/.idea/runConfigurations/BuildWorker.xml">NLP model construction service / <code>BuildWorker</code></a></li>
<li>Configuration <a href="https://github.com/theopenconversationkit/tock/blob/master/.idea/runConfigurations/KotlinCompilerServer.xml">Script compilation service / <code>KotlinCompilerServer</code></a></li>
</ul>
<p>Finally, to launch the user interfaces (<em>Tock Studio</em>), the commands are described in the following link:</p>
<ul>
<li>Instructions <a href="https://github.com/theopenconversationkit/tock/blob/master/bot/admin/web/README">Full <em>Tock Studio</em> interface (Bot + NLP)</a></li>
</ul>
<h2 id="mongodb-database">MongoDB database</h2>
<h3 id="replica-set-architecture"><em>replica set</em> architecture</h3>
<p>The MongoDB database must be configured in <em>replica set</em>, because Tock takes advantage of <a href="https://docs.mongodb.com/manual/changeStreams/"><em>change streams</em></a>.</p>
<blockquote>
<p>This implies that at least 3 <em>nodes</em> must be deployed, which improves resilience.</p>
</blockquote>
<p>Different scenarios are possible for the database:</p>
<ul>
<li>Install MongoDB nodes on one or more servers (classic method)</li>
<li>Instantiate MongoDB nodes with Docker (for testing or local development)</li>
<li>Use a MongoDB <em>cloud</em> service in <em>SaaS (Software-as-a-Service)</em>, for example
<a href="https://www.mongodb.com/cloud/atlas">MongoDB Atlas</a> available on AWS, Azure and GCP</li>
</ul>
<blockquote>
<p>A <a href="https://docs.mongodb.com/manual/tutorial/deploy-replica-set/"><em>replica set</em> installation tutorial</a>
is available on the MongoDB website.</p>
</blockquote>
<h3 id="data-retention">Data retention</h3>
<p>Tock stores different types of data in its database and applies <a href="https://en.wikipedia.org/wiki/Time_to_live"><em>TTL (Time To Live)</em></a>,
so that some expire and are purged automatically after a certain time.</p>
<blockquote>
<p>In practice, environment variables and the application of <em>TTL</em> occur when the <em>DAO
(Data Access Object)</em> components are initialized, when Tock starts.</p>
</blockquote>
<p>Tock's <em>TTL</em> have a default value and are configurable using environment
variables. Some concern a specific Tock component, others must be defined on
several components.</p>
<blockquote>
<p>Since Tock can be used as a complete conversational platform or
only the NLU/NLP part, we indicate the variables specific to conversational (denoted <em>Bot</em>)
or usable on all types of platforms (denoted <em>*</em>).</p>
</blockquote>
<table>
<thead>
<tr>
<th>Platform(s)</th>
<th>Environment variable</th>
<th>Default value</th>
<th>Description</th>
<th>Affected component(s)</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>*</em></td>
<td><code>tock_nlp_classified_sentences_index_ttl_days</code></td>
<td><code>-1</code> (no expiration)</td>
<td>Unvalidated sentences (<em>Inbox</em>).</td>
<td><code>nlp_api</code>, <code>nlp_admin</code>/<code>bot_admin</code>, <code>worker</code></td>
</tr>
<tr>
<td><em>*</em></td>
<td><code>tock_nlp_classified_sentences_index_ttl_intent_names</code></td>
<td>Empty (all intents)</td>
<td>Unvalidated sentences (<em>Inbox</em>) &gt;&gt; restriction to certain intents, separated by commas.<br><em>(Example below).</em></td>
<td><code>nlp_api</code></td>
</tr>
<tr>
<td><em>*</em></td>
<td><code>tock_nlp_log_index_ttl_days</code></td>
<td><code>7</code></td>
<td>NLP logs: sentence, intents, scores, entity details, etc.</td>
<td><code>nlp_api</code></td>
</tr>
<tr>
<td><em>*</em></td>
<td><code>tock_nlp_log_stats_index_ttl_days</code></td>
<td><code>365</code></td>
<td>NLP statistics: number of occurrences of a sentence, scores, etc.</td>
<td><code>nlp_api</code></td>
</tr>
<tr>
<td><em>*</em></td>
<td><code>tock_user_log_index_ttl_days</code></td>
<td><code>365</code></td>
<td>Log of actions in <em>Tock Studio</em>: <em>Stories</em> changes, etc.</td>
<td><code>nlp_admin</code>/<code>bot_admin</code></td>
</tr>
<tr>
<td><em>Bot</em></td>
<td><code>tock_bot_alternative_index_ttl_hours</code></td>
<td><code>1</code></td>
<td>Index on label alternatives (<em>Answers</em>).</td>
<td><code>bot</code>/<code>bot_api</code></td>
</tr>
<tr>
<td><em>Bot</em></td>
<td><code>tock_bot_dialog_index_ttl_days</code></td>
<td><code>7</code></td>
<td>Conversations (<em>Analytics &gt; Users/Search</em>).</td>
<td><code>bot</code>/<code>bot_api</code>, <code>nlp_admin</code>/<code>bot_admin</code></td>
</tr>
<tr>
<td><em>Bot</em></td>
<td><code>tock_bot_dialog_max_validity_in_seconds</code></td>
<td><code>60 * 60 * 24</code> (24h)</td>
<td>Conversation contexts (current intention, entities on the <em>bus</em>, etc.).</td>
<td><code>bot</code>/<code>bot_api</code>, <code>nlp_admin</code>/<code>bot_admin</code></td>
</tr>
<tr>
<td><em>Bot</em></td>
<td><code>tock_bot_flow_stats_index_ttl_days</code></td>
<td><code>365</code></td>
<td>Browsing statistics (<em>Analytics &gt; Activity/Behavior</em>).</td>
<td><code>bot</code>/<code>bot_api</code>, <code>nlp_admin</code>/<code>bot_admin</code></td>
</tr>
<tr>
<td><em>Bot</em></td>
<td><code>tock_bot_timeline_index_ttl_days</code></td>
<td><code>365</code></td>
<td>User profiles/history: preferences, locale, last login, etc. <em>(excluding conversation details)</em></td>
<td><code>bot</code>/<code>bot_api</code>, <code>nlp_admin</code>/<code>bot_admin</code></td>
</tr>
</tbody>
</table>
<p>Depending on the deployment mode used, these environment variables can be added either
directly on the command line, or in a descriptor such as <code>docker-compose.yml</code>, <code>dockerrun.aws.json</code> or other
(example below).</p>
<p>It is possible to automatically remove unvalidated sentences (<em>Inbox</em>) for certain intents only,
thanks to <code>tock_nlp_classified_sentences_index_ttl_intent_names</code> :</p>
<ul>
<li>{: data-hl-lines="6 7"} docker-compose.yml</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;3&quot;</span>
<span class="nt">services</span><span class="p">:</span>
<span class="w">  </span><span class="nt">admin_web</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tock/bot_admin:$TAG</span>
<span class="w">    </span><span class="nt">environment</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tock_nlp_classified_sentences_index_ttl_days=10</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tock_nlp_classified_sentences_index_ttl_intent_names=greetings,unknown</span>
</code></pre></div>
<ul>
<li>{: data-hl-lines="8 9"} dockerrun.aws.json</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;AWSEBDockerrunVersion&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;containerDefinitions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;admin_web&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;image&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;tock/bot_admin:${TAG}&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;environment&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;tock_nlp_classified_sentences_index_ttl_days&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;10&quot;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;tock_nlp_classified_sentences_index_ttl_intent_names&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;greetings,unknown&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>{: .tabbed-code}</p>
<p>In this example, only sentences detected as <code>greetings</code> or <code>unknown</code> intents (but not validated) will be
deleted after <code>10</code> days; other sentences will not be deleted.</p>
<p>Only sentences validated by a user in <em>Tock Studio</em>, integrating the bot's NLP model, never expire
by default (even if it is still possible to delete them from the model via the <em>Search &gt; Status: Included in model</em> view):
it is therefore important not to validate sentences containing personal data for example.</p>
<blockquote>
<p>Data retention, encryption and anonymization are essential to protect
data, especially if it is personal.
For more information, see the <a href="../security/#data"><em>Security &gt; Data</em></a> section.</p>
</blockquote>
<h2 id="application-components">Application Components</h2>
<p>Depending on Tock's application components, whether mandatory or optional, some must be <em>single-instance</em> and others
can be deployed in <em>multiple instances</em> (see the <a href="../availability/">high availability</a> section for more information).</p>
<p>For convenience, the components below are named after the <a href="https://www.docker.com/">Docker</a> images provided
with Tock, although using Docker is not required to install Tock.</p>
<h3 id="network-exposure">Network Exposure</h3>
<p>By default, the components or <em>containers</em> of the Tock platform must not be exposed outside the
<a href="https://fr.wikipedia.org/wiki/R%C3%A9seau_priv%C3%A9_virtuel"><em>VPN</em></a> or <a href="https://fr.wikipedia.org/wiki/Nuage_Priv%C3%A9_Virtuel"><em>VPC</em></a>.
Only the bot itself must be accessible to the partners and external channels with which we want to
integrate, for the functioning of the <em>WebHooks</em>.</p>
<table>
<thead>
<tr>
<th>Component / Image</th>
<th>Network exposure</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://hub.docker.com/r/tock/bot_admin"><code>tock/bot_admin</code></a></td>
<td>VPN / VPC only</td>
<td>Interfaces and tools <em>Tock Studio</em></td>
</tr>
<tr>
<td><a href="https://hub.docker.com/r/tock/build_worker"><code>tock/build_worker</code></a></td>
<td>VPN / VPC only</td>
<td>Automatically rebuilds models whenever needed</td>
</tr>
<tr>
<td><a href="https://hub.docker.com/r/tock/duckling"><code>tock/duckling</code></a></td>
<td>VPN / VPC only</td>
<td>Parses dates and primitive types using <a href="https://duckling.wit.ai">Duckling</a></td>
</tr>
<tr>
<td><a href="https://hub.docker.com/r/tock/nlp_api"><code>tock/nlp_api</code></a></td>
<td>VPN / VPC only</td>
<td>Parses sentences from models built in <em>Tock Studio</em></td>
</tr>
<tr>
<td><a href="https://hub.docker.com/r/tock/bot_api"><code>tock/bot_api</code></a></td>
<td>VPN / VPC only</td>
<td>API for developing bots (<a href="../../dev/bot-api/"><em>Tock Bot API</em></a> mode)</td>
</tr>
<tr>
<td><a href="https://hub.docker.com/r/tock/kotlin_compiler"><code>tock/kotlin_compiler</code></a></td>
<td>VPN / VPC only</td>
<td>(Optional) Script compiler to enter them directly in the <a href="../../user/studio/stories-and-answers/"><em>Build</em></a> interface of <em>Tock Studio</em></td>
</tr>
<tr>
<td>bot (not provided)</td>
<td>Internet / partners</td>
<td>The bot itself, implementing the programmatic journeys, accessible to external partners/channels via <em>WebHooks</em></td>
</tr>
</tbody>
</table>
<p>Of course, the implementation of the bot itself is not provided with Tock (everyone implements their own features for their needs).</p>
<h3 id="http-proxies">HTTP Proxies</h3>
<p>The <a href="https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html">Java System Properties</a>
<code>https.proxyHost</code>, <code>http.proxyHost</code>, and <code>http.nonProxyHosts</code> are the recommended way to configure a proxy.</p>
<h3 id="bot-packaging">Bot Packaging</h3>
<!-->Todo pas "bot-embedded<!-->
<p>A sample bot in <a href="../../dev/bot-integre/"><em>Tock Bot Embedded</em></a> mode is available in
<a href="https://github.com/theopenconversationkit/tock-docker/blob/master/docker-compose-bot-open-data.yml"><code>docker-compose-bot-open-data.yml</code></a>.</p>
<p>Examples and guidelines for packaging bots in <a href="../../dev/bot-api/"><em>Tock Bot API</em></a> mode (<em>WebHooks</em>, <em>WebSockets</em>) will be available soon.</p>
<h2 id="minimum-configurations">Minimum configurations</h2>
<p>Tock architecture is composed of several components that can be deployed together on the same server,
or distributed across multiple machines/instances.</p>
<p>The main parameter to monitor is the available RAM.</p>
<h3 id="model-building">Model building</h3>
<p>The larger your models, the more memory is needed to rebuild the models
(<code>tock/build_worker</code> component).</p>
<p>To give an order of magnitude, a model of 50,000 sentences with several intents, comprising about twenty entities,
will require provisioning about 8 GB of RAM for the <code>tock/build_worker</code> component.</p>
<p>However, large models with few entities can easily run with only 1 GB of RAM.</p>
<h3 id="jvm-docker-memory">JVM &amp; Docker Memory</h3>
<p>To ensure that Docker containers/instances do not exceed the available memory, it is recommended
to limit the memory of JVMs by following the following example:</p>
<div class="highlight"><pre><span></span><code><span class="nv">JAVA_ARGS</span><span class="o">=</span>-Xmx1g<span class="w"> </span>-XX:MaxMetaspaceSize<span class="o">=</span>256m
</code></pre></div>
<h2 id="machine-optimization">Machine optimization</h2>
<p>It is possible to optimize deployments and infrastructures by taking into account different elements
such as:</p>
<ul>
<li>the needs of the respective components in machine resources: CPU, memory, disk</li>
<li>the interest of having one or more instances of each component according to its role</li>
<li>the constraints/objectives of resilience and high availability</li>
<li>the cost models, particularly among public cloud providers</li>
</ul>
<h3 id="examples">Examples</h3>
<p>For information, here are some examples of configurations currently in production.
These are the "application" components of the Tock architecture without the MongoDB database.</p>
<blockquote>
<p>EC2 instance types are for reference only. Tock has no dependencies on AWS.
For more information, see the <a href="https://aws.amazon.com/ec2/pricing/on-demand/">AWS documentation</a>.</p>
</blockquote>
<h4 id="limited-size-models">Limited Size Models</h4>
<table>
<thead>
<tr>
<th>Tock Components</th>
<th>Number of Instances</th>
<th>Number of CPUs or vCPUs</th>
<th>RAM</th>
<th>Example EC2 Instance Type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>admin-web</code> + <code>build-worker</code> + <code>kotlin-compiler</code> + <code>duckling</code></td>
<td>1</td>
<td>2</td>
<td>4 GB</td>
<td><code>t3a.medium</code> (general purpose)</td>
</tr>
<tr>
<td><code>bot</code> + <code>nlp-api</code> + <code>duckling</code></td>
<td>3</td>
<td>2</td>
<td>4 GB</td>
<td><code>t3a.medium</code> (general purpose)</td>
</tr>
</tbody>
</table>
<h4 id="large-models">Large Models</h4>
<table>
<thead>
<tr>
<th>Tock Components</th>
<th>Number of Instances</th>
<th>Number of CPUs or vCPUs</th>
<th>RAM</th>
<th>Example EC2 Instance Type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>admin-web</code> + <code>build-worker</code> + <code>kotlin-compiler</code> + <code>duckling</code></td>
<td>1</td>
<td>2</td>
<td>16 GB</td>
<td><code>r5a.large</code> (memory optimized)</td>
</tr>
<tr>
<td><code>bot</code> + <code>nlp-api</code> + <code>duckling</code></td>
<td>3</td>
<td>2</td>
<td>4 GB</td>
<td><code>t3a.medium</code> (general purpose)</td>
</tr>
</tbody>
</table>
<h2 id="frequently-asked-questions">Frequently Asked Questions</h2>
<h3 id="making-the-administration-interface-available-in-a-subdirectory">Making the administration interface available in a subdirectory</h3>
<p>By default, the administration interface is served at the root (Example: <code>https://[domain host]</code>)
If you want to make it available on a relative path (<code>https://[domain host]/tock</code>),
use in the configuration of the docker image <code>tock/bot_admin</code> the environment variable <code>botadminverticle_base_href</code>.</p>
<p>For example: <code>botadminverticle_base_href=tock</code></p>
<p>For <code>tock/nlp_admin</code>, you must use the property <code>adminverticle_base_href</code>.</p>
<h2 id="see-also">See also...</h2>
<p>For a production use of Tock, we recommend you to also browse the following pages:</p>
<!-->Todo /monitoring inexistant<!-->
<ul>
<li><a href="../security/">Security</a></li>
<li><a href="../supervision/">Monitoring</a>  </li>
<li><a href="../cloud/">Cloud</a></li>
<li><a href="../availability/">High availability</a></li>
</ul>
<!-- Chat inclusion start -->
<div>
  <script src="https://unpkg.com/vue@3.4/dist/vue.global.prod.js"></script>
  <link
    rel="stylesheet"
    href="https://unpkg.com/tock-vue-kit@0.3.6/dist/style.css"
  />
  <script
    crossorigin
    src="https://unpkg.com/tock-vue-kit@0.3.6/dist/tock-vue-kit.iife.js"
  ></script>
  <style>
    :root {
      --tvk_base_font-size: 1em;
      --tvk_base_radius: 0;
      --tvk_colors_brand-hue: 207;
      --tvk_colors_brand-lightness: 54%;
      --tvk_colors_brand-saturation: 90%;
      --tvk_colors_light_background: white;
      --tvk_colors_light_surface2: hsl(var(--tvk_colors_brand-hue) 10% 95%);
      --tvk_footnotes_margin: 2em 0em 0em 0em;
      --tvk_footnotes_sources-title_display: block;
      --tvk_footnotes_flex-wrap: wrap;
      --tvk_footnotes_margin: 1em 0em 0em 0em;
      --tvk_question_box-shadow: inset 0px 0px 5px #00000030;
      --tvk_message_body_line-height: 1.3;
      --tvk_message_header_avatar_radius: unset;
      --tvk_message_header_avatar_bot_background: transparent;
      --tvk_message_header_font-weight: 300;
      --tvk_wrapper_padding: 0.5em;
      --tvk_wrapper_max-width: 45vw;
      --tvk_wrapper_min-height: 25em;
    }

    #chat-wrapped {
      display: none;
      position: fixed;
      bottom: 0.5em;
      right: 0.5em;
      min-width: 20em;
      flex-direction: column;
      background-color: white;
      box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
      transition: all 0.3s ease;
      animation: fadeIn 0.8s ease-in-out;
    }

    .chat-header {
      background-color: var(--md-primary-fg-color);
      color: white;
      padding: 0.25rem 0.5rem;
      font-weight: 100;
      font-size: 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .chat-header-title {
      display: flex;
      align-items: center;
    }
    .chat-header-title-logo {
      height: 1.5em !important;
      margin-right: 0.25em;
    }
    #chat-header-close {
      margin-top: -3px;
    }

    #chat-container {
      flex-grow: 1;
    }

    #chat-icon {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 60px;
      height: 60px;
      background-color: var(--md-primary-fg-color);
      border-radius: 50%;
      color: white;
      font-size: 2rem;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
    }

    #chat-icon:hover {
      background-color: var(--md-accent-fg-color);
    }

    .pointer {
      cursor: pointer;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>

  <!-- Ic√¥ne de chat flottant -->
  <div id="chat-icon" onclick="toggleChat()" title="Chat with Tock">
    <img src="img/Logo_Tock_White.svg" />
  </div>

  <!-- Fen√™tre du chatbot -->
  <div id="chat-wrapped">
    <div class="chat-header">
      <div class="chat-header-title">
        <img src="img/Logo_Tock_White.svg" class="chat-header-title-logo" />
        <span id="chat-header-title-string">Chat with Tock</span>
      </div>

      <span
        id="chat-header-close"
        onclick="closeChat()"
        class="pointer"
        title="Close chat"
        >&times;</span
      >
    </div>
    <div id="chat-container"></div>
  </div>

  <script>
    function toggleChat() {
      const chatWindow = document.getElementById("chat-wrapped");

      if (
        chatWindow.style.display === "" ||
        chatWindow.style.display === "none"
      ) {
        chatWindow.style.display = "flex";
      } else {
        chatWindow.style.display = "none";
      }
    }

    function closeChat() {
      const chatWindow = document.getElementById("chat-wrapped");
      chatWindow.style.display = "none";
    }

    let i18n = {
      title: "Chat with Tock",
      initialization: {
        welcomeMessage: "Hello, would you like to talk about Tock?",
      },
      wording: {
        messages: {
          message: {
            header: {
              labelUser: "You",
            },
            footnotes: {
              sources: "Sources:",
              showMoreLink: "> Show more",
            },
          },
        },
        questionBar: {
          clearHistoryAriaLabel: "Clear discussion and history button",
          input: {
            placeholder: "Ask me anything about Tock...",
          },
          submitAriaLabel: "Submit button",
        },
        connectionErrorMessage:
          "An unexpected error occured. Please try again later.",
      },
    };

    if (document.documentElement.getAttribute("lang") === "fr") {
      document.getElementById("chat-icon").title = "Discutez avec Tock";
      document.getElementById("chat-header-close").title = "Fermer le chat";
      document.getElementById("chat-header-title-string").innerText =
        "Discutez avec Tock";

      i18n = {
        initialization: {
          welcomeMessage: "Bonjour, vous souhaitez parler de Tock ?",
        },
        wording: {
          messages: {
            message: {
              header: {
                labelUser: "Vous",
              },
              footnotes: {
                sources: "Sources :",
                showMoreLink: "> Plus",
              },
            },
          },
          questionBar: {
            clearHistoryAriaLabel:
              "Bouton d'effacement de la discussion et de l'historique",
            input: {
              placeholder: "Demandez-moi n'importe quoi sur Tock...",
            },
            submitAriaLabel: "Bouton d'envoi",
          },
          connectionErrorMessage:
            "Une erreur inattendue s'est produite. Veuillez r√©essayer plus tard.",
        },
      };
    }

    const tockUrl = "https://demo-bot.tock.ai/io/tock/tockbot/web";

    TockVueKit.renderChat(document.getElementById("chat-container"), tockUrl, {
      localStorage: {
        enabled: true,
      },
      initialization: {
        welcomeMessage: i18n.initialization.welcomeMessage,
      },
      preferences: {
        messages: {
          message: {
            header: {
              avatar: {
                botImage: {
                  src: "img/favicon.png",
                  width: "1.5em",
                  height: "1.5em",
                },
              },
            },
          },
          footNotes: {
            requireSourcesContent: true,
          },
        },
      },
      wording: {
        messages: {
          message: {
            header: {
              labelBot: "Toki",
              labelUser: i18n.wording.messages.message.header.labelUser,
            },
            footnotes: {
              sources: i18n.wording.messages.message.footnotes.sources,
              showMoreLink:
                i18n.wording.messages.message.footnotes.showMoreLink,
            },
          },
        },
        questionBar: {
          clearHistoryAriaLabel: i18n.wording.questionBar.clearHistoryAriaLabel,
          input: {
            placeholder: i18n.wording.questionBar.input.placeholder,
          },
          submitAriaLabel: i18n.wording.questionBar.submitAriaLabel,
        },
        connectionErrorMessage: i18n.wording.connectionErrorMessage,
      },
    });
  </script>
</div>
<!-- Chat inclusion end -->







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">January 20, 2025</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">December 23, 2024</span>
  </span>

    
    
      
  
  <span class="md-source-file__fact">
    <span class="md-icon" title="Contributors">
      
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 4a4 4 0 0 1 4 4 4 4 0 0 1-4 4 4 4 0 0 1-4-4 4 4 0 0 1 4-4m0 10c4.42 0 8 1.79 8 4v2H4v-2c0-2.21 3.58-4 8-4"/></svg>
      
    </span>
    <nav>
      
        <a href="mailto:titouan.perivier-vigouroux@arkea.com">Titouan Perivier--Vigouroux</a>
    </nav>
  </span>

    
    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.action.edit", "content.code.copy", "navigation.expand", "navigation.path"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
    
  </body>
</html>